{% extends "base.html" %}
{% block content %}
<h2>Admin Dashboard</h2>

<h3>Recent Feedback</h3>
<div style="overflow-x:auto;">
    <table style="width:100%; border-collapse:collapse; margin-bottom:30px;">
        <tr style="background:#eee;">
            <th style="padding:10px; border:1px solid #ccc;">Date</th>
            <th style="padding:10px; border:1px solid #ccc;">Rating</th>
            <th style="padding:10px; border:1px solid #ccc;">Comment</th>
        </tr>
        {% for f in feedbacks %}
        <tr>
            <td style="padding:10px; border:1px solid #ccc;">{{ f.date.strftime('%Y-%m-%d') }}</td>
            <td style="padding:10px; border:1px solid #ccc;">{{ '‚≠ê' * f.rating }}</td>
            <td style="padding:10px; border:1px solid #ccc;">{{ f.comment }}</td>
        </tr>
        {% else %}
        <tr><td colspan="3" style="padding:10px;">No feedback yet.</td></tr>
        {% endfor %}
    </table>
</div>

<h3>Appointments</h3>
<ul>
{% for a in appointments %}
    <li style="margin-bottom: 10px; padding: 10px; background: #f9f9f9; border-left: 4px solid #2c3e50;">
        <strong>{{ a.scheduled_at }}</strong> - Status: {{ a.status }}
    </li>
{% endfor %}
</ul>
{% endblock %}

<h3>Coupons</h3>
<ul>
{% for c in coupons %}
    <li style="margin-bottom: 10px; padding: 10px; background: #f9f9f9; border-left: 4px solid #2c3e50;">
        <strong>{{ c.code }}</strong> 
        
        - Status: 
        {% if c.is_used %}
            <span style="color: red;">Used</span>
        {% else %}
            <span style="color: green;">Active</span>
        {% endif %}
        
        <br>
        <small>Expires: {{ c.expires_at.strftime('%Y-%m-%d') }}</small>
    </li>
{% endfor %}
</ul>